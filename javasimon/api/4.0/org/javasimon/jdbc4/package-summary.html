<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Wed Oct 29 00:50:56 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>org.javasimon.jdbc4 (Java Simon 4.0.0 API)</title>
<meta name="date" content="2014-10-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.javasimon.jdbc4 (Java Simon 4.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><div class="logo">4.0.0</div></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/javasimon/javaee/reqreporter/package-summary.html">Prev Package</a></li>
<li><a href="../../../org/javasimon/jdbc4/jmx/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/javasimon/jdbc4/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.javasimon.jdbc4</h1>
<div class="docSummary">
<div class="block">Simon JDBC 4.1 (Java SE 7) Proxy Driver for monitoring JDBC drivers through the Java Simon API.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/Driver.html" title="class in org.javasimon.jdbc4">Driver</a></td>
<td class="colLast">
<div class="block">Simon JDBC 4.1 Proxy Driver (Java SE 7).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SimonCallableStatement.html" title="class in org.javasimon.jdbc4">SimonCallableStatement</a></td>
<td class="colLast">
<div class="block">Simon JDBC proxy callable statement implementation class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SimonConnection.html" title="class in org.javasimon.jdbc4">SimonConnection</a></td>
<td class="colLast">
<div class="block">Class implements Simon JDBC proxy connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SimonConnectionConfiguration.html" title="class in org.javasimon.jdbc4">SimonConnectionConfiguration</a></td>
<td class="colLast">
<div class="block">JDBC configuration contains Simon JDBC connection URL, real JDBC connection URL and Simon properties.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SimonPreparedStatement.html" title="class in org.javasimon.jdbc4">SimonPreparedStatement</a></td>
<td class="colLast">
<div class="block">Simon JDBC proxy prepared statement implementation class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SimonResultSet.html" title="class in org.javasimon.jdbc4">SimonResultSet</a></td>
<td class="colLast">
<div class="block">Simon JDBC proxy result set implementation class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SimonStatement.html" title="class in org.javasimon.jdbc4">SimonStatement</a></td>
<td class="colLast">
<div class="block">Simon JDBC proxy statement implementation class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/SqlNormalizer.html" title="class in org.javasimon.jdbc4">SqlNormalizer</a></td>
<td class="colLast">
<div class="block">SqlNormalizer takes SQL statement and replaces parameters with question marks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/javasimon/jdbc4/WrapperSupport.html" title="class in org.javasimon.jdbc4">WrapperSupport</a>&lt;D extends <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Wrapper.html?is-external=true" title="class or interface in java.sql">Wrapper</a>&gt;</td>
<td class="colLast">
<div class="block">Helper class for implementing <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Wrapper.html?is-external=true" title="class or interface in java.sql"><code>Wrapper</code></a> on wrappers.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.javasimon.jdbc4 Description">Package org.javasimon.jdbc4 Description</h2>
<div class="block">Simon JDBC 4.1 (Java SE 7) Proxy Driver for monitoring JDBC drivers through the Java Simon API.
 <p>
 Main goal of monitoring the JDBC driver through the Simon JDBC Proxy Driver is to gain data
 about so-called monitored entities of the JDBC driver, which could provide reasonable information
 about their usage in the monitored system.
 <p>
 Following JDBC entities are monitored at this time:
 <ul>
 <li>Connections,
 <li>statements - objects in JVM,
 <li>SQL commands - commands like select, insert, update, etc, but also create, truncate and others,
 so than you can know how many selects vs. inserts vs. updates are present in your system or how
 long took their execution,
 <li>SQL command groups - command group means same command with different parameters, typically
 systems in general has final set of different select or updates (unless it is SQL editor).
 </ul>

 Each entity has several monitoring parameters:
 <p>
 <b>Connection:</b>
 <ul>
 <li><i>active conns</i> - count of actual active opened connections;
 <li><i>max active conns</i> - maximum active opened connection at same time;
 <li><i>opened</i> - summary count of all opened connections - difference between this number
 and closed should equals active in any time, if not this could indicate unclosed connections
 (<code>close</code> was not invoked);
 <li><i>closed</i> - summary count of all closed connections - difference between this number
 and opened should equals active in any time;
 <li><i>minimum lifespan</i> - minimum time of all connections life (time between <code>getConnection</code>
 and <code>close</code>;
 <li><i>average lifespan</i> - average time of all connection life;
 <li><i>maximum lifespan</i> - maximum time of all connection life;
 <li><i>commits</i> - summary count of all commits issued by <code>commit</code> - this counter is increased
 only by invoking method <code>commit</code>, therefore if autocommit is true counter is not representative;
 <li><i>rollbacks</i> - summary count of all rollbacks issued by <code>rollback</code> - this counter is
 increased only by invoking method <code>rollback</code>, therefore if autocommit is true counter is not
 representative.
 </ul>

 <b>Statement:</b>
 <ul>
 <li><i>active stmt</i> - count of actual active opened statements;
 <li><i>max active stmt</i> - maximum active opened statements at same time;
 <li><i>opened</i> - summary count of all opened statements - difference between this number and closed
 should equals active in any time, if not this could indicate unclosed statements <code>close</code> was
 not invoked;
 <li><i>closed</i> - summary count of all closed statements - difference between this number and opened
 should equals active in any time;
 <li><i>minimum lifespan</i> - minimum time of all statements life (time between <code>createStatement</code>,
 <code>prepareStatement</code> or <code>prepareCall</code> and <code>close</code>);
 <li><i>average lifespan</i> - average time of all statements life;
 <li><i>maximum lifespan</i> - maximum time of all statements life.
 </ul>

 <b>SQL command (select, insert, delete, call, ...):</b>
 <ul>
 <li><i>minimum execution</i> - minimum time of all desired sql command execution times - typically
 execution time of <code>executeQuery</code>, <code>executeUpdate</code> or <code>execute</code>;
 <li><i>average execution</i> - average time of all desired sql command execution times;
 <li><i>maximum execution</i> - maximum time of all desired sql command execution times;
 <li><i>first</i> - time of first occurrence of desired SQL command;
 <li><i>last</i> - time of last occurrence of desired SQL command.
 </ul>

 <b>SQL:</b>
 <ul>
 <li><i>minimum execution</i> - minimum time of all desired sql command execution times (typically
 execution time of <code>executeQuery</code>, <code>executeUpdate</code> or <code>execute</code>);
 <li><i>average execution</i> - average time of all desired sql command execution times;
 <li><i>maximum execution</i> - maximum time of all desired sql command execution times;
 <li><i>first</i> - time of first occurrence of desired SQL command;
 <li><i>last</i> - time of last occurrence of desired SQL command;
 <li><i>note</i> - "normalized" SQL command (SQL command without concrete values with question marks
 instead - similar to prepared statement syntax).
 </ul>

 From technical point of view, Simon JDBC Proxy Driver is based on a simple idea of the proxy driver
 that delegates invocations to the real driver which is wrapped. This allows to intercept invocations
 to the real driver and measure (or count) them.
 <p>
 The goal is not to measure each invocation on every possible function of JDBC driver (there
 are another techniques like profiling for that purpose), but just monitor those functions of driver
 which somehow influence parameter values of monitored entities mentioned earlier.
 <p>
 Simon driver implements just a few basic JDBC interfaces, like Connection and all Statements. Rest of
 the JDBC interfaces (from java.sql.* package) are not implemented by Simon driver. Therefore
 result of some invocations are not Simon driver classes, but directly classes from real driver. For
 example, as result of invoke method <code>Connection.createStatement</code> is returned Simon driver
 class <code>org.javasimon.jdbc4.Statement</code>, however result of invoking method <code>Statement.executeQuery</code>
 is returned concrete implementation class of real driver, i.e. for H2 driver class <code>org.h2.jdbc.JdbcResultSet</code>.
 <p>
 Simons are used to monitor aforementioned entities. To measure time parameters like execution time
 Stopwatch Simons are used. To count how many statements are open Counter Simons are used.
 <p>
 Each Simon is placed in the tree hierarchy (basic feature of Simon) and the place is strictly defined
 inside the driver. Therefore you can use static configuration of those Simons by defining their state
 in the config file (for more information see <code>SimonConfigTest.java</code> example).
 <p>
 Hierarchy of Simons in Simon JDBC proxy driver is following:
 <pre><code>org.javasimon.jdbc
 |
 +-&gt; .conn
 |     +-&gt; .commits
 |     +-&gt; .rollbacks
 |
 +-&gt; .stmt
 |     +-&gt; .active
 |
 +-&gt; .sql
 |     +-&gt; .&lt;sql type (select, insert, ...)&gt;
 |           +-&gt; .&lt;sql hash&gt;</code></pre>

 For choosing Simon's name is used prefix. If non is defined, default is <code>org.javasimon.jdbc</code>.
 If default prefix value is not sufficient or you need to differentiate between two different drivers
 (or its configuration) you can define your own prefix as parameter <code>SIMON_PREFIX=&lt;prefix&gt;</code>
 within JDBC connection string. For example, <code>jdbc:simon:....;SIMON_PREFIX=com.foo.bar</code>. More
 about setting up Simon JDBC proxy driver see <a href="../../../org/javasimon/jdbc4/Driver.html" title="class in org.javasimon.jdbc4"><code>Driver</code></a>.
 <p>
 For printing information from Simons to standard output you can use:
 <pre>
 SimonUtils.printSimonTree(SimonManager.getRootSimon());</pre>

 Also see examples classes <code>org.javasimon.examples.jdbc.Simple</code> and <code>org.javasimon.examples.jdbc.Complex</code>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.4</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Radovan Sninsky, <a href="mailto:virgo47@gmail.com">Richard "Virgo" Richter</a></dd></dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><div class="logo">4.0.0</div></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/javasimon/javaee/reqreporter/package-summary.html">Prev Package</a></li>
<li><a href="../../../org/javasimon/jdbc4/jmx/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/javasimon/jdbc4/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Wed Jun 03 22:17:41 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Overview (Java Simon 4.1.0 API)</title>
<meta name="date" content="2015-06-03">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (Java Simon 4.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><div class="logo">4.1.0</div></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Java Simon 4.1.0 API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">
        Java Simon API provides support for implementing an internal application performance monitoring.</div>
</div>
<p>See: <a href="#overview_description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/package-summary.html">org.javasimon</a></td>
<td class="colLast">
<div class="block">Core package, contains <a href="org/javasimon/Simon.html" title="interface in org.javasimon"><code>Simon</code></a> implementations, with
 the <a href="org/javasimon/SimonManager.html" title="class in org.javasimon"><code>SimonManager</code></a> as the center point of the API.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/aop/package-summary.html">org.javasimon.aop</a></td>
<td class="colLast">
<div class="block">Contains AOP related annotation <a href="org/javasimon/aop/Monitored.html" title="annotation in org.javasimon.aop"><code>Monitored</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/callback/package-summary.html">org.javasimon.callback</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/callback/Callback.html" title="interface in org.javasimon.callback"><code>Callback</code></a> is an event listener registered with the <a href="org/javasimon/Manager.html" title="interface in org.javasimon"><code>Manager</code></a>,
 listening for manager or Simon events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/callback/async/package-summary.html">org.javasimon.callback.async</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/callback/calltree/package-summary.html">org.javasimon.callback.calltree</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/callback/calltree/CallTreeCallback.html" title="class in org.javasimon.callback.calltree"><code>CallTreeCallback</code></a> gathers information
 for current thread and displays it subsequent calls like a tree.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/callback/lastsplits/package-summary.html">org.javasimon.callback.lastsplits</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/callback/lastsplits/LastSplitsCallback.html" title="class in org.javasimon.callback.lastsplits"><code>LastSplitsCallback</code></a> retains last
 splits in a ring a buffer (fixed size FIFO queue).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/callback/logging/package-summary.html">org.javasimon.callback.logging</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/callback/logging/LoggingCallback.html" title="class in org.javasimon.callback.logging"><code>LoggingCallback</code></a> is able to log stopwatch splits and statistics once
 in a while (N per millisecond, every N split, when split is longer than N ms, etc.)
 and to various outputs (SLF4J, JUL).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/callback/quantiles/package-summary.html">org.javasimon.callback.quantiles</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/callback/quantiles/QuantilesCallback.html" title="class in org.javasimon.callback.quantiles"><code>QuantilesCallback</code></a> sorts splits to categories
 (<a href="org/javasimon/callback/quantiles/Bucket.html" title="class in org.javasimon.callback.quantiles"><code>Bucket</code></a>s) based on time ranges.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/callback/timeline/package-summary.html">org.javasimon.callback.timeline</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/clock/package-summary.html">org.javasimon.clock</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/console/package-summary.html">org.javasimon.console</a></td>
<td class="colLast">
<div class="block">Java Simon embeddable Web console base package.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/console/action/package-summary.html">org.javasimon.console.action</a></td>
<td class="colLast">
<div class="block">All controllers (aka Action beans in Struts world) are located in this package.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/console/html/package-summary.html">org.javasimon.console.html</a></td>
<td class="colLast">
<div class="block">HTML generation helper classes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/console/json/package-summary.html">org.javasimon.console.json</a></td>
<td class="colLast">
<div class="block">Simplified JSON serializer used for Ajax communication and the REST API</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/console/plugin/package-summary.html">org.javasimon.console.plugin</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/console/reflect/package-summary.html">org.javasimon.console.reflect</a></td>
<td class="colLast">
<div class="block">Reflection tools to dynamically extract information from Simons.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/console/text/package-summary.html">org.javasimon.console.text</a></td>
<td class="colLast">
<div class="block">Machinery to convert potentially anything to a String (said differently a configurable toString() API).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/javaee/package-summary.html">org.javasimon.javaee</a></td>
<td class="colLast">
<div class="block">Java EE support for Simons contains Java EE components (servlet filter and EJB/CDI interceptor) that can be used or extended.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/javaee/reqreporter/package-summary.html">org.javasimon.javaee.reqreporter</a></td>
<td class="colLast">
<div class="block">Package contains classes reporting slow HTTP requests - interface <a href="org/javasimon/javaee/reqreporter/RequestReporter.html" title="interface in org.javasimon.javaee.reqreporter"><code>RequestReporter</code></a> and various (default) implementations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/jdbc4/package-summary.html">org.javasimon.jdbc4</a></td>
<td class="colLast">
<div class="block">Simon JDBC 4.1 (Java SE 7) Proxy Driver for monitoring JDBC drivers through the Java Simon API.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/jdbc4/jmx/package-summary.html">org.javasimon.jdbc4.jmx</a></td>
<td class="colLast">
<div class="block">Work in progress: MX beans specific to Simon JDBC driver.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/jdbcx4/package-summary.html">org.javasimon.jdbcx4</a></td>
<td class="colLast">
<div class="block">Simon DataSources for JavaEE JDBC monitoring.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/jmx/package-summary.html">org.javasimon.jmx</a></td>
<td class="colLast">
<div class="block">JMX capabilities for Simons.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/proxy/package-summary.html">org.javasimon.proxy</a></td>
<td class="colLast">
<div class="block">Provides everything to wrap any class a Proxy generated with java.lang.reflect.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/source/package-summary.html">org.javasimon.source</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/source/MonitorSource.html" title="interface in org.javasimon.source"><code>MonitorSource</code></a> is the interface used as function to transform execution context (method invocation,
 HTTP request...) into a Simon.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/spring/package-summary.html">org.javasimon.spring</a></td>
<td class="colLast">
<div class="block">Support classes to automatically monitor Spring beans with the <a href="org/javasimon/aop/Monitored.html" title="annotation in org.javasimon.aop"><code>Monitored</code></a> annotation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/spring/webmvc/package-summary.html">org.javasimon.spring.webmvc</a></td>
<td class="colLast">
<div class="block"><a href="org/javasimon/spring/webmvc/MonitoringHandlerInterceptor.html" title="class in org.javasimon.spring.webmvc"><code>MonitoringHandlerInterceptor</code></a> is a Spring MVC interceptor which can be used to monitor
 time spent in Controller and View.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/javasimon/utils/package-summary.html">org.javasimon.utils</a></td>
<td class="colLast">
<div class="block">Java Simon supporting utilities and tools.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/javasimon/utils/bean/package-summary.html">org.javasimon.utils.bean</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="footer"><a name="overview_description">
<!--   -->
</a>
<div class="subTitle">
<div class="block"><p>
        Java Simon API provides support for implementing an internal application performance monitoring.
        Monitors (called Simons) have to be incorporated directly into the code and API provides additional
        management features for these monitors.
</p>

<p>
        Java Simon is not a tool for profiling in the first place - it is rather a library that helps to
        implement performance (and other metrics) monitoring directly in the application as the integral part
        of it. Measured metrics can be sampled and stored persistently for later processing, trend analyzing,
        problem tracking, etc. It helps to give an additional perspective (history) to the application.
</p>

<h2>Using Stopwatch</h2>

<p>
        <a href="org/javasimon/Stopwatch.html" title="interface in org.javasimon"><code>Stopwatch</code></a> is probably the most often used monitor. Simple use case looks like this:
</p>
<pre>
    Stopwatch stopwatch = SimonManager.getStopwatch("stopwatch-name");
    Split split = stopwatch.start();
    //... measured code
    split.stop();
</pre>

<p>
        Monitors are always obtained from the <a href="org/javasimon/Manager.html" title="interface in org.javasimon"><code>Manager</code></a> - in this case so called
        "default manager" is used via convenient utility class <a href="org/javasimon/SimonManager.html" title="class in org.javasimon"><code>SimonManager</code></a>.
        Every time the same name of the monitor is requested the same monitor is returned.
</p>

<p>
        If there is no need for explicit <code>stopwatch</code> reference, the first two lines can be shortened to:
</p>
<pre>
    Split split = SimonManager.getStopwatch("stopwatch-name").start();
</pre>

<p>
        Instead of stopping the stopwatch directly, there is the <a href="org/javasimon/Split.html" title="class in org.javasimon"><code>Split</code></a> object
        that represents the measured time-span. Client code has to keep this reference in order to
        stop the measuring, but it also allows for multiple splits measured in parallel without binding
        them to specific threads.
</p>

<h2>How are Simons organized</h2>

<p>
        Simon names form a hierarchy similar to Java Logging API. It is possible to disable whole subtrees of Simons
        to minimiaze performance penalty (mostly neglectable) or use <a href="org/javasimon/utils/SimonUtils.html" title="class in org.javasimon.utils"><code>SimonUtils</code></a> to
        perform other operations on the hierarchy (print Simon tree, aggregations, ...).
</p>

<p>
        Example of the Simon tree (partial) printed with the help of
        <a href="org/javasimon/utils/SimonUtils.html#simonTreeString(org.javasimon.Simon)"><code>SimonUtils.simonTreeString(org.javasimon.Simon)</code></a>:
</p>
<pre>
jdbc(+): Unknown Simon:  [org.javasimon.jdbc INHERIT]
  conn(+): Simon Stopwatch: total 41.4 ms, counter 1, max 41.4 ms, min 41.4 ms, mean 41.4 ms [org.javasimon.jdbc.conn INHERIT]
        commits(+): Simon Counter: counter=2, max=2, min=undef [org.javasimon.jdbc.conn.commits INHERIT]
        rollbacks(+): Simon Counter: counter=0, max=undef, min=undef [org.javasimon.jdbc.conn.rollbacks INHERIT]
  stmt(+): Simon Stopwatch: total 26.6 ms, counter 3, max 13.7 ms, min 3.81 ms, mean 8.88 ms [org.javasimon.jdbc.stmt INHERIT]
  sql(+): Unknown Simon:  [org.javasimon.jdbc.sql INHERIT]
        insert(+): Simon Stopwatch: total 1.18 ms, counter 2, max 1.02 ms, min 161 us, mean 592 us [org.javasimon.jdbc.sql.insert INHERIT]
          125069376(+): Simon Stopwatch: total 1.18 ms, counter 2, max 1.02 ms, min 161 us, mean 592 us [org.javasimon.jdbc.sql.insert.125069376 INHERIT "insert into foo values (?, ?)"]
        call(+): Simon Stopwatch: total 8.50 ms, counter 1, max 8.50 ms, min 8.50 ms, mean 8.50 ms [org.javasimon.jdbc.sql.call INHERIT]
          519218118(+): Simon Stopwatch: total 8.50 ms, counter 1, max 8.50 ms, min 8.50 ms, mean 8.50 ms [org.javasimon.jdbc.sql.call.519218118 INHERIT "call foo_proc(?, ?)"]
        select(+): Simon Stopwatch: total 13.1 ms, counter 1, max 13.1 ms, min 13.1 ms, mean 13.1 ms [org.javasimon.jdbc.sql.select INHERIT]
          -402642902(+): Simon Stopwatch: total 13.1 ms, counter 1, max 13.1 ms, min 13.1 ms, mean 13.1 ms [org.javasimon.jdbc.sql.select.-402642902 INHERIT "select * from foo"]
                next(+): Simon Stopwatch: total 46.5 us, counter 4, max 32.4 us, min 4.27 us, mean 11.6 us [org.javasimon.jdbc.sql.select.-402642902.next INHERIT]
  rset(+): Simon Stopwatch: total 195 us, counter 1, max 195 us, min 195 us, mean 195 us [org.javasimon.jdbc.rset INHERIT]
</pre>

<p>
        Hierarchy is held by <a href="org/javasimon/Manager.html" title="interface in org.javasimon"><code>Manager</code></a> that is most easily accessed via convenient static class
        <a href="org/javasimon/SimonManager.html" title="class in org.javasimon"><code>SimonManager</code></a> (but there can be more managers, it is up to the user how to organize them).
        Manager provides access to the Simons (one manager, one hierarchy) and other management operations related
        to one set of Simons. Whole manager can be disabled which is even stronger form of disabled Simon (with close
        to no performance overhead - see DisabledEnabledComparison from example classes).
</p>

<h2>Support components</h2>

<p>
        Being able to put a Stopwatch anywhere is powerful because one is not limited to method beginning or end,
        split allows to stop the stopwatch in a different thread, etc. Drawback is that the code might get poluted
        with various Simon code. Simon API provides a few tools how to get results quickly with minimal to no coding:
</p>

<ul>
        <li>
                <a href="org/javasimon/javaee/SimonServletFilter.html" title="class in org.javasimon.javaee"><code>SimonServletFilter</code></a> measures HTTP requests and provides simple way how to
                display tree of all Simons or clear the Manager. Filter can also report long requets along with all splits
                collected during the request.
        </li>
        <li>
                Embeddable (servlet/filter) or standalone (war) <b>web console</b> is provided that can show all Simons
                in the table or tree, sort them, filter them, etc.
        </li>
        <li>
                Spring integration (package <a href="org/javasimon/spring/package-summary.html"><code>org.javasimon.spring</code></a>) helps monitor calls to beans - poitcut can be configured
                in Spring config or application can be scanned for <a href="org/javasimon/aop/Monitored.html" title="annotation in org.javasimon.aop"><code>Monitored</code></a> annotations (Spring AOP).
                Annotation can be also used     to further configure Stopwatch names.
        </li>
        <li>
                Spring Web MVC integration is provided in <a href="org/javasimon/spring/webmvc/package-summary.html"><code>org.javasimon.spring.webmvc</code></a>.
        </li>
        <li>
                JDBC proxy driver is provided (<a href="org/javasimon/jdbc4/Driver.html" title="class in org.javasimon.jdbc4"><code>Driver</code></a>) - monitors virtually all JDBC API calls.
                In simple scenarios only the change of the JDBC URL is required - just add <code>simon:</code> in front of the real
                name of the driver (e.g. <code>jdbc:simon:h2:...</code>). In more complex scenarios configuration change may be
                required - for example, original data source class has to be switched to Java Simon data source and original
                datasource will be provided as a parameter.
        </li>
</ul>

<p>
        In addition to this Simon provides JMX support (see <a href="org/javasimon/jmx/package-summary.html"><code>org.javasimon.jmx</code></a>) or simple EJB/CDI intercpetor.
</p>
<p>
        It is also very easy to hook onto Simon events (create/destroy of the Simon, measuring, start/stop, ...) using
        <a href="org/javasimon/callback/Callback.html" title="interface in org.javasimon.callback"><code>Callback</code></a> facility (set up on the Manager object).
</p></div>
</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><div class="logo">4.1.0</div></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>

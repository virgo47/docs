<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Fri Mar 27 23:32:37 CET 2015 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
org.javasimon.jdbc4 (Java Simon API)
</TITLE>

<META NAME="date" CONTENT="2015-03-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.javasimon.jdbc4 (Java Simon API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<table><tr><td style='valign: middle;'><span style='font-weight: bold; 						margin-right: 16px;'>Java 						Simon 3.5.3-SNAPSHOT</span></td><td><div 						class='logo'/></td></tr></table></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/javasimon/javaee/reqreporter/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../org/javasimon/jdbc4/jmx/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/javasimon/jdbc4/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.javasimon.jdbc4
</H2>
Simon JDBC Proxy Driver for monitoring JDBC drivers through the Java Simon API.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/Driver.html" title="class in org.javasimon.jdbc4">Driver</A></B></TD>
<TD>Simon JDBC Proxy Driver.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SimonCallableStatement.html" title="class in org.javasimon.jdbc4">SimonCallableStatement</A></B></TD>
<TD>Simon JDBC proxy callable statement implementation class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SimonConnection.html" title="class in org.javasimon.jdbc4">SimonConnection</A></B></TD>
<TD>Class implements Simon JDBC proxy connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SimonConnectionConfiguration.html" title="class in org.javasimon.jdbc4">SimonConnectionConfiguration</A></B></TD>
<TD>JDBC configuration contains Simon JDBC connection URL, real JDBC connection URL and Simon properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SimonPreparedStatement.html" title="class in org.javasimon.jdbc4">SimonPreparedStatement</A></B></TD>
<TD>Simon JDBC proxy prepared statement implementation class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SimonResultSet.html" title="class in org.javasimon.jdbc4">SimonResultSet</A></B></TD>
<TD>Simon JDBC proxy result set implementation class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SimonStatement.html" title="class in org.javasimon.jdbc4">SimonStatement</A></B></TD>
<TD>Simon JDBC proxy statement implementation class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/SqlNormalizer.html" title="class in org.javasimon.jdbc4">SqlNormalizer</A></B></TD>
<TD>SqlNormalizer takes SQL statement and replaces parameters with question marks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/javasimon/jdbc4/WrapperSupport.html" title="class in org.javasimon.jdbc4">WrapperSupport&lt;D extends Wrapper&gt;</A></B></TD>
<TD>Helper class for implementing <A HREF="http://docs.oracle.com/javase/6/docs/api/java/sql/Wrapper.html?is-external=true" title="class or interface in java.sql"><CODE>Wrapper</CODE></A> on wrappers.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.javasimon.jdbc4 Description
</H2>

<P>
Simon JDBC Proxy Driver for monitoring JDBC drivers through the Java Simon API.
 <p>
 <b>Don't use both JDBC (v3) and JDBC proxy drivers on your classpath.</b>
 <p>
 Main goal of monitoring the JDBC driver through the Simon JDBC Proxy Driver is to gain data
 about so-called monitored entities of the JDBC driver, which could provide reasonable information
 about their usage in the monitored system.
 <p>
 Following JDBC entities are monitored at this time:
 <ul>
 <li>Connections,
 <li>statements - objects in JVM,
 <li>SQL commands - commands like select, insert, update, etc, but also create, truncate and others,
 so than you can know how many selects vs. inserts vs. updates are present in your system or how
 long took their execution,
 <li>SQL command groups - command group means same command with different parameters, typically
 systems in general has final set of different select or updates (unless it is SQL editor).
 </ul>

 Each entity has several monitoring parameters:
 <p>
 <b>Connection:</b>
 <ul>
 <li><i>active conns</i> - count of actual active opened connections;
 <li><i>max active conns</i> - maximum active opened connection at same time;
 <li><i>opened</i> - summary count of all opened connections - difference between this number
 and closed should equals active in any time, if not this could idicate unclosed connections
 (<code>close</code> was not invoked);
 <li><i>closed</i> - summary count of all closed connections - difference between this number
 and opened should equals active in any time;
 <li><i>minimum lifespan</i> - minimum time of all connections life (time between <code>getConnection</code>
 and <code>close</code>;
 <li><i>average lifespan</i> - average time of all connection life;
 <li><i>maximum lifespan</i> - maximum time of all connection life;
 <li><i>commits</i> - summary count of all commits issued by <code>commit</code> - this counter is incresed
 only by invoking method <code>commit</code>, therefore if autocommit is true counter is not representative;
 <li><i>rollbacks</i> - summary count of all rollbacks issued by <code>rollback</code> - this counter is
 incresed only by invoking method <code>rollback</code>, therefore if autocommit is true counter is not
 representative.
 </ul>

 <b>Statement:</b>
 <ul>
 <li><i>active stmt</i> - count of actual active opened statements;
 <li><i>max active stmt</i> - maximum active opened statements at same time;
 <li><i>opened</i> - summary count of all opened statements - difference between this number and closed
 should equals active in any time, if not this could idicate unclosed statements <code>close</code> was
 not invoked;
 <li><i>closed</i> - summary count of all closed statements - difference between this number and opened
 should equals active in any time;
 <li><i>minimum lifespan</i> - minimum time of all statements life (time between <code>createStatement</code>,
 <code>prepareStatement</code> or <code>prepareCall</code> and <code>close</code>);
 <li><i>average lifespan</i> - average time of all statements life;
 <li><i>maximum lifespan</i> - maximum time of all statements life.
 </ul>

 <b>SQL command (select, insert, delete, call, ...):</b>
 <ul>
 <li><i>minimum execution</i> - minimum time of all desired sql command execution times - typically
 execution time of <code>executeQuery</code>, <code>executeUpdate</code> or <code>execute</code>;
 <li><i>average execution</i> - average time of all desired sql command execution times;
 <li><i>maximum execution</i> - maximum time of all desired sql command execution times;
 <li><i>first</i> - time of first occurence of desired SQL command;
 <li><i>last</i> - time of last occurence of desired SQL command.
 </ul>

 <b>SQL:</b>
 <ul>
 <li><i>minimum execution</i> - minimum time of all desired sql command execution times (typically
 execution time of <code>executeQuery</code>, <code>executeUpdate</code> or <code>execute</code>);
 <li><i>average execution</i> - average time of all desired sql command execution times;
 <li><i>maximum execution</i> - maximum time of all desired sql command execution times;
 <li><i>first</i> - time of first occurence of desired SQL command;
 <li><i>last</i> - time of last occurence of desired SQL command;
 <li><i>note</i> - "normalized" SQL command (SQL command without concrete values with question marks
 instead - similar to prepared statement syntax).
 </ul>

 From technical point of view, Simon JDBC Proxy Driver is based on a simple idea of the proxy driver
 that delegates invocations to the real driver which is wrapped. This allows to intercept invocations
 to the real driver and measure (or count) them.
 <p>
 The goal is not to measure each invocation on every possible function of JDBC driver (there
 are another techniques like profiling for that purpose), but just monitor those functions of driver
 which somehow influence paramater values of monitored entities mentioned earlier.
 <p>
 Simon driver implements just a few basic JDBC interfaces, like Connection and all Statments. Rest of
 the JDBC interfaces (from java.sql.* package) are not implemented by Simon driver. Therefore
 result of some invocations are not Simon driver classes, but directly classes from real driver. For
 example, as result of invoke method <code>Connection.createStatement</code> is returned Simon driver
 class <code>org.javasimon.jdbc4.Statement</code>, however result of invoking method <code>Statement.executeQuery</code>
 is returned concrete implementation class of real driver, i.e. for H2 driver class <code>org.h2.jdbc.JdbcResultSet</code>.
 <p>
 Simons are used to monitor aforementioned entities. To measure time parameters like execution time
 Stopwatch Simons are used. To count how many statements are open Counter Simons are used.
 <p>
 Each Simon is placed in the tree hierarchy (basic feature of Simon) and the place is strictly defined
 inside the driver. Therefore you can use static configuration of those Simons by defining their state
 in the config file (for more information see <code>SimonConfigTest.java</code> example).
 <p>
 Hierarchy of Simons in Simon JDBC proxy driver is following:
 <pre>org.javasimon.jdbc
 |
 +-&gt; .conn
 |     +-&gt; .commits
 |     +-&gt; .rollbacks
 |
 +-&gt; .stmt
 |     +-&gt; .active
 |
 +-&gt; .sql
 |     +-&gt; .&lt;sql type (select, insert, ...)&gt;
 |           +-&gt; .&lt;sql hash&gt;</pre>

 For choosing Simon's name is used prefix. If non is defined, default is <code>org.javasimon.jdbc</code>.
 If default prefix value is not suficient or you need to differentiate between two different drivers
 (or its configuration) you can define your own prefix as parameter <code>SIMON_PREFIX=&lt;prefix&gt;</code>
 within JDBC connection string. For example, <code>jdbc:simon:....;SIMON_PREFIX=com.foo.bar</code>. More
 about setuping Simon JDBC proxy driver see <A HREF="../../../org/javasimon/jdbc4/Driver.html" title="class in org.javasimon.jdbc4"><CODE>Driver</CODE></A>.
 <p>
 For printing information from Simons to standard output you can use:
 <pre>
 SimonUtils.printSimonTree(SimonManager.getRootSimon());</pre>

 Also see examples classes <code>org.javasimon.examples.jdbc.Simple</code> and <code>org.javasimon.examples.jdbc.Complex</code>.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>2.4</DD>
<DT><B>Author:</B></DT>
  <DD>Radovan Sninsky, <a href="mailto:virgo47@gmail.com">Richard "Virgo" Richter</a></DD>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<table><tr><td style='valign: middle;'><span style='font-weight: bold; 						margin-right: 16px;'>Java 						Simon 3.5.3-SNAPSHOT</span></td><td><div 						class='logo'/></td></tr></table></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/javasimon/javaee/reqreporter/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../org/javasimon/jdbc4/jmx/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/javasimon/jdbc4/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2015. All rights reserved.
</BODY>
</HTML>
